<script setup lang="ts">
import {computed} from "vue";
import {STAMP_CODE_UNSOLD, STAMP_CODE_VERIFIED, STAMP_STATUS, STATUS_VERIFY} from '@/constants';
import {useScanQrcodeStore} from "@/store";
import {useSetting} from "@/store/setting";
import {isEmpty} from "@/utitls";

defineProps({
  status: {type: String, required: true},
})

const store = useScanQrcodeStore();
const storeSetting = useSetting();
const messageStampCode = computed(() => store.message);
const bgWarning = computed(() => store.getKeyThemeData('color_warring') || '#F38020');
const colorError = computed(() => store.getKeyThemeData('color_error') || '#B61212');
const colorSuccess = computed(() => store.getKeyThemeData('color_success') || '#00994D');
const messageError = computed(() => storeSetting?.setting?.message_error_content || '');

const logoUrl = computed(() => messageStampCode.value?.logo || '');
const logoErrorUrl = computed(() => storeSetting?.setting?.image_error_url || '');
</script>

<template>
  <template v-if="STAMP_CODE_UNSOLD.includes(status)">
    <div class="px-3 py-5" :class="`bg-[${bgWarning}]`">
      <div class="logo-success flex justify-center mb-3">
        <img v-if="!isEmpty(logoUrl)" :src="logoUrl" alt="Logo stamp unsold" class="!max-w-[100px] !max-h-[81px]"/>
        <template v-else>
        <svg width="100" height="81" viewBox="0 0 390 349" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_179478_2975)">
            <path d="M364.163 136.444L342.484 133.036C339.762 125.249 336.273 117.694 332.056 110.46L344.685 94.3527C353.41 83.2467 351.938 68.1334 341.197 58.5461L324.568 43.6659C313.855 34.0541 296.966 32.7365 284.555 40.544L266.548 51.8456C258.464 48.072 250.022 44.9494 241.32 42.5139L237.512 23.1145C234.89 9.75157 221.922 0.0041087 206.761 1.88611e-05H183.239C168.066 -0.0156589 155.083 9.74407 152.481 23.1213L148.672 42.5139C139.97 44.9488 131.528 48.0714 123.444 51.8456L105.445 40.544C93.0341 32.7365 76.1452 34.0541 65.4317 43.6659L48.7957 58.553C38.0547 68.1402 36.5823 83.2536 45.3071 94.3595L57.9287 110.467C53.7119 117.701 50.2224 125.256 47.5008 133.043L25.8299 136.451C10.8842 138.782 -0.0174984 150.4 2.10857e-05 163.975V185.025C0.00154452 198.597 10.8987 210.206 25.8375 212.549L47.5084 215.957C50.2293 223.744 53.7187 231.3 57.9363 238.533L45.3071 254.641C36.5823 265.746 38.0547 280.86 48.7957 290.447L65.4317 305.334C76.1452 314.946 93.0341 316.264 105.445 308.456L123.444 297.161C131.528 300.936 139.97 304.059 148.672 306.493L152.481 325.892C155.089 339.264 168.071 349.016 183.239 349H206.761C221.931 349.016 234.914 339.26 237.519 325.886C238.466 321.065 234.866 316.471 229.479 315.623C224.092 314.776 218.958 317.998 218.012 322.818C217.053 327.708 212.309 331.276 206.761 331.277H183.239C177.688 331.279 172.939 327.711 171.981 322.818L167.113 297.986C166.454 294.6 163.666 291.861 159.961 290.958C148.703 288.262 137.886 284.261 127.786 279.057C124.444 277.324 120.28 277.489 117.122 279.48L94.0799 293.944C89.5363 296.794 83.3618 296.311 79.4397 292.799L62.8037 277.912C58.8794 274.402 58.3393 268.877 61.524 264.811L77.6953 244.198C79.9196 241.372 80.1039 237.646 78.1676 234.655C72.3473 225.615 67.8707 215.933 64.8528 205.855C63.8564 202.526 60.7928 200.017 56.9994 199.421L29.2576 195.065C23.8045 194.21 19.8215 189.979 19.8047 185.025V163.975C19.8062 159.011 23.7931 154.765 29.2576 153.908L57.0071 149.552C60.7897 148.958 63.8473 146.461 64.8528 143.145C67.8692 133.068 72.3427 123.386 78.16 114.345C80.0963 111.354 79.9119 107.628 77.6877 104.802L61.524 84.1895C58.3393 80.1235 58.8794 74.5981 62.8037 71.0883L79.4397 56.2013C83.3618 52.6895 89.5363 52.2062 94.0799 55.0561L117.114 69.5274C120.272 71.5178 124.436 71.6827 127.778 69.95C137.88 64.7429 148.7 60.7397 159.961 58.0417C163.681 57.1495 166.486 54.4086 167.152 51.014L172.019 26.1818C172.975 21.302 177.703 17.7377 183.239 17.7227H206.761C212.312 17.7206 217.061 21.289 218.019 26.1818L222.887 51.014C223.546 54.3997 226.334 57.1385 230.039 58.0417C241.297 60.7417 252.114 64.745 262.214 69.95C265.557 71.6827 269.72 71.5178 272.878 69.5274L295.92 55.0629C300.464 52.213 306.638 52.6963 310.56 56.2081L327.196 71.0951C331.121 74.6049 331.661 80.1303 328.476 84.1963L312.305 104.809C310.08 107.635 309.896 111.361 311.832 114.352C317.648 123.391 322.122 133.07 325.14 143.145C326.139 146.471 329.202 148.978 332.993 149.572L360.742 153.928C366.199 154.784 370.182 159.019 370.195 163.975V185.025C370.198 189.992 366.21 194.242 360.742 195.099C355.356 195.946 351.756 200.541 352.702 205.361C353.649 210.182 358.783 213.403 364.17 212.556C379.118 210.224 390.021 198.603 390 185.025V163.975C390.002 150.401 379.104 138.788 364.163 136.444Z" fill="#FCFCFC"/>
            <path d="M361.87 266.883L298.525 208.473C290.242 200.876 286.092 190.414 287.168 179.844C291.714 133.306 253.242 92.2826 201.237 88.2145C195.715 87.7824 190.162 87.7858 184.641 88.2248C180.314 88.5397 176.249 90.2042 173.154 92.9281C165.624 99.555 165.509 110.385 172.895 117.14L200.187 142.04C205.734 147.096 205.651 155.218 200.001 160.181C200 160.183 199.998 160.184 199.997 160.186L178.867 178.733C173.214 183.692 164.14 183.612 158.597 178.556L131.305 153.655C123.9 146.917 111.797 146.814 104.249 153.424C101.142 156.14 99.2002 159.747 98.7644 163.614C93.1491 210.058 130.671 251.782 182.57 256.807C188.084 257.34 193.64 257.439 199.174 257.101C210.979 256.343 222.564 260.243 230.885 267.776L294.191 326.145C298 329.657 304.27 329.741 308.195 326.332C312.12 322.923 312.214 317.313 308.405 313.8L245.06 255.397C232.685 244.148 215.43 238.308 197.834 239.413C156.665 241.937 121.004 214.119 118.183 177.278C117.923 173.885 117.953 170.48 118.272 167.091L144.445 190.948C150.772 196.751 159.432 200.048 168.492 200.102H168.827C177.762 200.127 186.347 196.993 192.715 191.384L213.845 172.837C227.304 161.021 227.512 141.68 214.31 129.634L188.137 105.777C229.314 103.37 264.875 131.29 267.566 168.138C267.813 171.534 267.772 174.941 267.44 178.331C265.863 194.034 272.041 209.57 284.35 220.852L347.657 279.227C351.466 282.74 357.736 282.824 361.661 279.415C365.585 276.006 365.679 270.395 361.87 266.883Z" fill="#FCFCFC"/>
          </g>
          <defs>
            <clipPath id="clip0_179478_2975">
              <rect width="390" height="349" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        </template>
      </div>

      <div class="text-center text-[#FCFCFC]">{{ messageStampCode?.content || $t('common.stamp_new_content') }}</div>
    </div>
  </template>
  <template v-if="status === STAMP_STATUS.BLOCKED">
    <div class="px-3 py-5" :class="`bg-[${bgWarning}]`">
      <div class="logo-success flex justify-center mb-3">
        <img v-if="!isEmpty(logoUrl)" :src="logoUrl" alt="Logo stamp block" class="!max-w-[100px] !max-h-[81px]"/>
        <template v-else>
        <svg width="100" height="81" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_179476_2975)">
            <path
                d="M256 0C115.3 0 0 115.3 0 256C0 396.7 115.3 512 256 512C396.7 512 512 396.7 512 256C512 115.3 396.7 0 256 0ZM61 256C61 148.599 148.599 61 256 61C296.499 61 335.501 73.599 368.8 97.299L256 210.099L97.301 368.8C73.599 335.499 61 296.499 61 256ZM256 451C215.501 451 176.499 438.399 143.2 414.699L414.7 143.199C438.401 176.499 451 215.499 451 256C451 363.399 363.401 451 256 451Z"
                fill="#FCFCFC"/>
            <path
                d="M512 256C512 396.7 396.7 512 256 512V451C363.401 451 451 363.399 451 256C451 215.499 438.401 176.499 414.699 143.2L256 301.899V210.099L368.8 97.299C335.501 73.599 296.499 61 256 61V0C396.7 0 512 115.3 512 256Z"
                fill="#FCFCFC"/>
          </g>
          <defs>
            <clipPath id="clip0_179476_2975">
              <rect width="512" height="512" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        </template>
      </div>

      <div class="text-center text-[#FCFCFC]">{{messageStampCode?.content || $t('common.stamp_blocked_content') }}
      </div>
    </div>
  </template>
  <template v-if="status === STATUS_VERIFY.SUCCESS">
    <div class="px-3 py-5" :class="`bg-[${colorSuccess}]`">
      <div class="logo-success flex justify-center mb-3">
        <img v-if="!isEmpty(logoUrl)" :src="logoUrl" alt="Logo stamp success" class="!max-w-[100px] !max-h-[81px]"/>
        <template v-else>
        <svg width="100" height="81" viewBox="0 0 100 81" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="86.2869" cy="9.83962" r="3.0276" fill="#FCFCFC"/>
          <circle cx="16.2734" cy="9.46117" r="2.64915" fill="#FCFCFC"/>
          <circle cx="85.9083" cy="70.7701" r="1.13535" fill="#FCFCFC"/>
          <circle cx="40.8729" cy="80.2315" r="0.756901" fill="#FCFCFC"/>
          <circle cx="15.895" cy="68.121" r="2.2707" fill="#FCFCFC"/>
          <circle cx="6.81211" cy="27.2484" r="6.81211" fill="#FCFCFC"/>
          <circle cx="93.8559" cy="53.74" r="5.29831" fill="#FCFCFC"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M49.1989 70.2027C65.8154 70.2027 79.2857 56.7324 79.2857 40.1159C79.2857 23.4994 65.8154 10.0291 49.1989 10.0291C32.5824 10.0291 19.1121 23.4994 19.1121 40.1159C19.1121 56.7324 32.5824 70.2027 49.1989 70.2027ZM65.139 32.2269C66.3209 30.8086 66.1293 28.7006 64.7109 27.5187C63.2926 26.3367 61.1846 26.5283 60.0027 27.9467L47.9748 42.3802C46.8157 43.771 46.1641 44.5411 45.6439 45.0143L45.624 45.0323L45.6026 45.0161C45.0416 44.592 44.323 43.8841 43.0428 42.6039L38.1908 37.7519C36.8853 36.4464 34.7686 36.4464 33.4631 37.7519C32.1576 39.0574 32.1576 41.1741 33.4631 42.4796L38.3151 47.3316L38.4515 47.4681L38.4516 47.4681C39.543 48.56 40.593 49.6104 41.57 50.3491C42.6644 51.1766 44.0976 51.9548 45.9342 51.8715C47.7709 51.7881 49.1278 50.8834 50.1427 49.9602C51.0488 49.1361 51.9993 47.995 52.9874 46.8088L52.9875 46.8087L53.1111 46.6604L65.139 32.2269Z"
                fill="#FCFCFC"/>
        </svg>
        </template>
      </div>

      <div class="text-center text-[#FCFCFC]">{{ messageStampCode?.content || $t('common.stamp_verify_success') }}</div>
    </div>
  </template>

  <template v-if="STAMP_CODE_VERIFIED.includes(status)">
    <div class="px-3 py-5" :class="`bg-[${bgWarning}]`">
      <div class="logo-success flex justify-center mb-3">
        <img v-if="!isEmpty(logoUrl)" :src="logoUrl" alt="Logo stamp verified" class="!max-w-[100px] !max-h-[81px]"/>
        <template v-else>
        <svg width="100" height="81" viewBox="0 0 100 81" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="86.2869" cy="9.84011" r="3.0276" fill="#FCFCFC"/>
          <circle cx="16.2734" cy="9.46165" r="2.64915" fill="#FCFCFC"/>
          <circle cx="85.9083" cy="70.7701" r="1.13535" fill="#FCFCFC"/>
          <circle cx="40.8729" cy="80.2315" r="0.756901" fill="#FCFCFC"/>
          <circle cx="15.895" cy="68.1213" r="2.2707" fill="#FCFCFC"/>
          <circle cx="6.81211" cy="27.2486" r="6.81211" fill="#FCFCFC"/>
          <circle cx="93.8559" cy="53.7397" r="5.29831" fill="#FCFCFC"/>
          <path
              d="M79 39.75C79 56.4566 65.4566 70 48.75 70C32.0434 70 18.5 56.4566 18.5 39.75C18.5 23.0434 32.0434 9.5 48.75 9.5C65.4566 9.5 79 23.0434 79 39.75Z"
              fill="#FCFCFC"/>
          <path
              d="M48.9363 21.377C51.4083 21.377 53.3828 23.4356 53.2797 25.9055L52.637 41.2985C52.5542 43.2823 50.9218 44.848 48.9363 44.848C46.9508 44.848 45.3184 43.2823 45.2356 41.2985L44.5929 25.9055C44.4897 23.4356 46.4642 21.377 48.9363 21.377ZM49.0588 57.392C47.5888 57.392 46.3801 56.9673 45.4328 56.118C44.5181 55.236 44.0608 54.158 44.0608 52.884C44.0608 51.5773 44.5181 50.483 45.4328 49.601C46.3801 48.719 47.5888 48.278 49.0588 48.278C50.4961 48.278 51.6721 48.719 52.5868 49.601C53.5341 50.483 54.0078 51.5773 54.0078 52.884C54.0078 54.158 53.5341 55.236 52.5868 56.118C51.6721 56.9673 50.4961 57.392 49.0588 57.392Z"
              fill="#F38020"/>
        </svg>
        </template>
      </div>

      <div class="text-center text-[#FCFCFC]">{{ messageStampCode?.content || $t('common.stamp_verified') }}</div>
    </div>
  </template>
  <template v-if="status === STATUS_VERIFY.FAIL">
    <div class="px-3 py-5" :class="`bg-[${colorError}]`">
      <div class="logo-success flex justify-center mb-3">
        <img v-if="!isEmpty(logoErrorUrl)" :src="logoErrorUrl" alt="Logo stamp error" class="!max-w-[100px] !max-h-[81px]"/>
        <template v-else>
        <svg width="100" height="81" viewBox="0 0 100 81" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="86.2869" cy="9.83962" r="3.0276" fill="#FCFCFC"/>
          <circle cx="16.2734" cy="9.46117" r="2.64915" fill="#FCFCFC"/>
          <circle cx="85.9083" cy="70.7701" r="1.13535" fill="#FCFCFC"/>
          <circle cx="40.8729" cy="80.2315" r="0.756901" fill="#FCFCFC"/>
          <circle cx="15.895" cy="68.1213" r="2.2707" fill="#FCFCFC"/>
          <circle cx="6.81211" cy="27.2486" r="6.81211" fill="#FCFCFC"/>
          <circle cx="93.8559" cy="53.7397" r="5.29831" fill="#FCFCFC"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M79 39.75C79 56.4566 65.4566 70 48.75 70C32.0434 70 18.5 56.4566 18.5 39.75C18.5 23.0434 32.0434 9.5 48.75 9.5C65.4566 9.5 79 23.0434 79 39.75ZM32.9289 55.5711C31.6163 54.2585 31.6163 52.1304 32.9289 50.8178L43.9967 39.75L32.9289 28.6822C31.6163 27.3696 31.6163 25.2415 32.9289 23.9289C34.2415 22.6163 36.3696 22.6163 37.6822 23.9289L48.75 34.9967L59.8178 23.9289C61.1304 22.6163 63.2585 22.6163 64.5711 23.9289C65.8837 25.2415 65.8837 27.3696 64.5711 28.6822L53.5033 39.75L64.5711 50.8178C65.8837 52.1304 65.8837 54.2585 64.5711 55.5711C63.2585 56.8837 61.1304 56.8837 59.8178 55.5711L48.75 44.5033L37.6822 55.5711C36.3696 56.8837 34.2415 56.8837 32.9289 55.5711Z"
                fill="#FCFCFC"/>
        </svg>
        </template>
      </div>

      <div class="text-center text-[#FCFCFC]">{{!isEmpty(messageError) ? messageError : $t('common.error_content') }}</div>
    </div>
  </template>
</template>
